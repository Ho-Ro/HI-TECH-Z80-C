
10E>date
A:DATE     COM  (User 0)
Tue 03/06/2025 11:17:00
10E>; Compile all test280
10E>c280 -v -o2 filesize.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: FILESIZE.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 57 bytes size optimised away
 123 bytes replaced
0:A:ZAS -J -N -OFILESIZE.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OFILESIZE.COM 0:A:C280CPM.OBJ FILESIZE.OBJ 0:A:LIB280C.LIB
ERA FILESIZE.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testver.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTVER.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 34 bytes size optimised away
 74 bytes replaced
0:A:ZAS -J -N -OTESTVER.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTVER.COM 0:A:C280CPM.OBJ TESTVER.OBJ 0:A:LIB280C.LIB
ERA TESTVER.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testio.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTIO.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 32 bytes size optimised away
 66 bytes replaced
0:A:ZAS -J -N -OTESTIO.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTIO.COM 0:A:C280CPM.OBJ TESTIO.OBJ 0:A:LIB280C.LIB
ERA TESTIO.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testuid.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTUID.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 0 bytes size optimised away
 0 bytes replaced
0:A:ZAS -J -N -OTESTUID.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTUID.COM 0:A:C280CPM.OBJ TESTUID.OBJ 0:A:LIB280C.LIB
ERA TESTUID.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 teststr.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTSTR.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 28 bytes size optimised away
 72 bytes replaced
0:A:ZAS -J -N -OTESTSTR.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTSTR.COM 0:A:C280CPM.OBJ TESTSTR.OBJ 0:A:LIB280C.LIB
ERA TESTSTR.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testbios.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTBIOS.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 20 bytes size optimised away
 42 bytes replaced
0:A:ZAS -J -N -OTESTBIOS.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTBIOS.COM 0:A:C280CPM.OBJ TESTBIOS.OBJ 0:A:LIB280C.LIB
ERA TESTBIOS.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testbdos.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTBDOS.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
TESTBDOS.C: test()
    16:	    e = errno;
	        ^ undefined identifier: errno
TESTBDOS.C: main()
    45:	        errno = e;
	        ^ undefined identifier: errno
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
ERA TESTBDOS.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testtrig.c -lf
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTTRIG.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 0 bytes size optimised away
 0 bytes replaced
0:A:ZAS -J -N -OTESTTRIG.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTTRIG.COM 0:A:C280CPM.OBJ TESTTRIG.OBJ 0:A:LIB280F.LIB 0:A:LIB280C.LIB
ERA TESTTRIG.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testftim.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTFTIM.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 19 bytes size optimised away
 30 bytes replaced
0:A:ZAS -J -N -OTESTFTIM.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTFTIM.COM 0:A:C280CPM.OBJ TESTFTIM.OBJ 0:A:LIB280C.LIB
ERA TESTFTIM.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testfile.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTFILE.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 18 bytes size optimised away
 36 bytes replaced
0:A:ZAS -J -N -OTESTFILE.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTFILE.COM 0:A:C280CPM.OBJ TESTFILE.OBJ 0:A:LIB280C.LIB
ERA TESTFILE.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testaes.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTAES.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 264 bytes size optimised away
 553 bytes replaced
0:A:ZAS -J -N -OTESTAES.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTAES.COM 0:A:C280CPM.OBJ TESTAES.OBJ 0:A:LIB280C.LIB
ERA TESTAES.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testrc.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTRC.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 0 bytes size optimised away
 0 bytes replaced
0:A:ZAS -J -N -OTESTRC.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTRC.COM 0:A:C280CPM.OBJ TESTRC.OBJ 0:A:LIB280C.LIB
ERA TESTRC.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testview.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTVIEW.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 33 bytes size optimised away
 66 bytes replaced
0:A:ZAS -J -N -OTESTVIEW.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTVIEW.COM 0:A:C280CPM.OBJ TESTVIEW.OBJ 0:A:LIB280C.LIB
ERA TESTVIEW.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testwild.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTWILD.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 14 bytes size optimised away
 32 bytes replaced
0:A:ZAS -J -N -OTESTWILD.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTWILD.COM 0:A:C280CPM.OBJ TESTWILD.OBJ 0:A:LIB280C.LIB
ERA TESTWILD.OBJ
ERA $$EXEC.$$$

10E>c280 -ftestovrx.sym -v -o2 testovr.c -lovr
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTOVR.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 8 bytes size optimised away
 16 bytes replaced
0:A:ZAS -J -N -OTESTOVR.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -DTESTOVRX.SYM -Ptext=0,data,bss -C100H -OTESTOVR.COM 0:A:C280CPM.OBJ TESTOVR.OBJ 0:A:LIB280OVR.LIB 0:A:LIB280C.LIB
ERA TESTOVR.OBJ
ERA $$EXEC.$$$

10E>c280 -y -o2 -v testovr2.c testovrx.sym
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
TESTOVR2.C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTOVR2.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 0 bytes size optimised away
 0 bytes replaced
0:A:ZAS -J -N -OTESTOVR2.OBJ $CTMP5.$$$
0:A:SYMTOAS TESTOVRX.SYM $CTMP5.$$$
TESTOVRX.SYM
0:A:ZAS -OTESTOVRX.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=031B7h,data -C31B7H -OTESTOVR2.OVR TESTOVR2.OBJ TESTOVRX.OBJ
ERA $$EXEC.$$$

10E>c280 -y -o2 -v testovr1.c testovrx.sym
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
TESTOVR1.C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTOVR1.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 0 bytes size optimised away
 0 bytes replaced
0:A:ZAS -J -N -OTESTOVR1.OBJ $CTMP5.$$$
0:A:SYMTOAS TESTOVRX.SYM $CTMP5.$$$
TESTOVRX.SYM
0:A:ZAS -OTESTOVRX.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=031B7h,data -C31B7H -OTESTOVR1.OVR TESTOVR1.OBJ TESTOVRX.OBJ
ERA $$EXEC.$$$

10E>c280 -a -v -o2 testhell.c -lc
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTHELL.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 0 bytes size optimised away
 0 bytes replaced
0:A:ZAS -J -N -OTESTHELL.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -L -Pcpm=0,text,data,bss,stack -O$L.OBJ 0:A:R280CPM.OBJ TESTHELL.OBJ 0:A:LIB280C.LIB 0:A:LIB280C.LIB
0:A:OBJTOHEX -R -B100H $L.OBJ TESTHELL.COM
ERA $L.OBJ
ERA TESTHELL.OBJ
ERA $$EXEC.$$$

10E>c280 -v -o2 testpr.c
C:C280     COM
Hi-Tech Z280 C Compiler (CP/M-80) V3.09-18
Copyright (C) 1984-87 HI-TECH SOFTWARE
Updated from https://github.com/agn453/HI-TECH-Z80-C
0:A:CPP -DCPM -DHI_TECH_C -Dz80 -DZ280 -I0:A: TESTPR.C $CTMP1.$$$
0:A:P1 $CTMP1.$$$ $CTMP2.$$$ $CTMP3.$$$
0:A:CGEN $CTMP2.$$$ $CTMP1.$$$
0:A:OPTIM $CTMP1.$$$ $CTMP2.$$$
0:A:OPTIMH $CTMP2.$$$ $CTMP5.$$$
 0 bytes size optimised away
 0 bytes replaced
0:A:ZAS -J -N -OTESTPR.OBJ $CTMP5.$$$
ERA $CTMP1.$$$
ERA $CTMP2.$$$
ERA $CTMP3.$$$
ERA $CTMP5.$$$
0:A:LINQ -Z -Ptext=0,data,bss -C100H -OTESTPR.COM 0:A:C280CPM.OBJ TESTPR.OBJ 0:A:LIB280C.LIB
ERA TESTPR.OBJ
ERA $$EXEC.$$$

10E>testver
E:TESTVER  COM
CP/M BDOS Version (3.1)
Machine (MCS80/Z80)
BDOS Address (0xE500)
BIOS Address (0xF800)
TPA Size (57.0K)
C library version LIB280C 3.09-19
Using DOS Plus exact file size mode

10E>era testio.sta
10E>era testio.out
No File
10E>era testio.err
10E>testovr
E:TESTOVR  COM
overlay test
hello from overlay 01
overlay return is 0
hello from overlay 01
overlay return is 0
hello from overlay 02
overlay return is 0
hello from overlay 01
overlay return is 0

10E>testio
E:TESTIO   COM
hexa,22
CP/M BDOS 3.1

10E>testuid
E:TESTUID  COM
getuid=10
setuid=0
getuid=3
getuid=3

10E>teststr
E:TESTSTR  COM
strcmp test:
- test<>Test=1
- test<>test=0
- test1<>test=1
- test<>test1=-1
- rest<>test=-1
stricmp test:
- test<>Test=0
- test<>test=0
- test1<>test=1
- test<>test1=-1
- rest<>test=-1
strnicmp test:
- test<>test1=0
- test1<>test=0
- Test1<>test=0

10E>testbios
E:TESTBIOS COM
Z3ENV is not established.  (This is not an error.)
Press a key: rc = 005A, character = Z
The next message should say "Did this work?"
Did this work?

10E>testbdos
E:TESTBDOS COM
First some perror() tests ...

 0:Unknown error
 1:Reading empty space
 2:Disc is full
 3:Can't close extent
 4:Unwritten extent
 5:Directory full
 6:File pointer out of range
 7:File not found
 8:Unknown error
 9:Invalid FCB
10:Disc has been changed
11:Unknown error
12:Unknown error
13:Unknown error
14:Unknown error
15:Unknown error
16:Unknown error
17:Disc I/O error
18:Disc is read-only
19:File is read-only
20:Invalid drive
21:File already open
22:Unknown error
23:Password error
24:File exists
25:Ambiguous filename
26:File is wheel protected
27:Unknown error


10E>testtrig
E:TESTTRIG COM

  n  LN             EXP            SIN            COS            ATAN
 01  0.000000e+00   2.718281e+00   8.414713e-01   5.403028e-01   7.853984e-01 
 02  6.931472e-01   7.389053e+00   9.092976e-01  -4.161476e-01   1.107149e+00 
 03  1.098612e+00   2.008552e+01   1.411195e-01  -9.899930e-01   1.249045e+00 
 04  1.386294e+00   5.459809e+01  -7.568034e-01  -6.536440e-01   1.325817e+00 
 05  1.609438e+00   1.484130e+02  -9.589241e-01   2.836642e-01   1.373401e+00 
 06  1.791759e+00   4.034281e+02  -2.794138e-01   9.601711e-01   1.405647e+00 
 07  1.945910e+00   1.096632e+03   6.569884e-01   7.539010e-01   1.428899e+00 
 08  2.079441e+00   2.980951e+03   9.893582e-01  -1.455027e-01   1.446441e+00 
 09  2.197225e+00   8.103070e+03   4.121158e-01  -9.111318e-01   1.460139e+00 
 10  2.302585e+00   2.202641e+04  -5.440236e-01  -8.390698e-01   1.471127e+00 
 11  2.397895e+00   5.987400e+04  -9.999905e-01   4.429656e-03   1.480136e+00 
 12  2.484906e+00   1.627543e+05  -5.365700e-01   8.438562e-01   1.487655e+00 
 13  2.564949e+00   4.424122e+05   4.201716e-01   9.074452e-01   1.494024e+00 
 14  2.639058e+00   1.202601e+06   9.906083e-01   1.367328e-01   1.499489e+00 
 15  2.708050e+00   3.269011e+06   6.502848e-01  -7.596909e-01   1.504228e+00 
 16  2.772589e+00   8.886073e+06  -2.879071e-01  -9.576581e-01   1.508378e+00 
 17  2.833213e+00   2.415486e+07  -9.613985e-01  -2.751586e-01   1.512040e+00 
 18  2.890371e+00   6.565974e+07  -7.509834e-01   6.603216e-01   1.515297e+00 
 19  2.944439e+00   1.784818e+08   1.498831e-01   9.887040e-01   1.518213e+00 

10E>testftim
E:TESTFTIM COM
34: 11:33 AM
Tue Jun 03 11:33:09 2025


10E>testfile
E:TESTFILE COM
create file...
rename file (0)
delete file (0)
delete file (255)
create file...

10E>testaes
E:TESTAES  COM
txt: 00 11 22 33 44 55 66 77 88 99 AA BB CC DD EE FF 
key: 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F 10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F 
---
enc: 8E A2 B7 CA 51 67 45 BF EA FC 49 90 4B 49 60 89 
tst: 8e a2 b7 ca 51 67 45 bf ea fc 49 90 4b 49 60 89
dec: 00 11 22 33 44 55 66 77 88 99 AA BB CC DD EE FF 

10E>testrc
E:TESTRC   COM

10E>testview testh*.c testver.c
E:TESTVIEW COM
 1: TESTHELL.C
#include <stdio.h>

int main() {
    printf("Hello\n");
}
 2: TESTVER.C
#include "stdio.h"
#include "cpm.h"
#include <stdio.h>

extern char _exact;	/* exact file size mode */
extern char *_libcver;	/* LIBC version string */

int main(int argc, char ** argv)
{
    int i;
    int minor=0;
    int major=0;
    int machine;
    int system;
    int* bdosaddr=(int*)6;
    int* biosaddr=(int*)1;
    unsigned int tpa;

    i=bdos(CPMVERS,0);
    switch(i) {
    case 0x00:
        major=1;
        minor=0;
        break;
    default:
        major=((i>>4)&0x0F);
        minor=(i&0x0F);
        break;
    }
    machine=(i>>12)&0x0F;
    system=(i>>8)&0x0F;
    printf("CP/M BDOS Version (%d.%d)\n",major,minor);
    if(system!=0) {
        printf("Network (%s%s%s)\n",system&0x01?"[MP/M]":"",system&0x02?"[CP/Net]":"",
            system&0x04?"[Multi User]":"");
    }
    switch(machine) {
    case 0:
        printf("Machine (MCS80/Z80)\n",machine);
        break;
    case 1:
        printf("Machine (MCS86)\n");
        break;
    case 2:
        printf("Machine (68000/Z8000)\n");
        break;
    default:
        printf("Machine (?)\n");
        break;
    }
    printf("BDOS Address (0x%04x)\n",*bdosaddr-6);
    printf("BIOS Address (0x%04x)\n",*biosaddr-3);
    tpa=((*bdosaddr-6)-0x100);
    fprintf(stdout,"TPA Size (%u.%uK)\n",tpa/1024,(tpa % 1024)/100);

    fprintf(stdout,"C library version %s\n",_libcver);
    switch(_exact) {
    case 'C':
        printf("Exact file size not used (CP/M 2 mode)\n");
        break;
    case 'D':
        printf("Using DOS Plus exact file size mode\n");
        break;
    case 'I':
        printf("Using ISIS exact file size mode\n");
    default:
        printf("Unknown exact file size mode 0%xH\n",_exact);
        break;
    }

    return 0;
}


10E>testwild test*.c test*.com
E:TESTWILD COM
Program name: TESTWILD
 1: TESTAES.C
 2: TESTARGS.C
 3: TESTBDOS.C
 4: TESTBIOS.C
 5: TESTBUG.C
 6: TESTENV.C
 7: TESTFILE.C
 8: TESTFTIM.C
 9: TESTHELL.C
10: TESTIO.C
11: TESTL.C
12: TESTLTOF.C
13: TESTOVR.C
14: TESTOVR1.C
15: TESTOVR2.C
16: TESTPR.C
17: TESTPWD.C
18: TESTQSRT.C
19: TESTRC.C
20: TESTREL.C
21: TESTSTR.C
22: TESTSUB.C
23: TESTTRIG.C
24: TESTUID.C
25: TESTVER.C
26: TESTVIEW.C
27: TESTWILD.C
28: TESTARGS.COM
29: TESTAES.COM
30: TESTVER.COM
31: TESTBDOS.COM
32: TESTBIOS.COM
33: TESTFILE.COM
34: TESTFTIM.COM
35: TESTHELL.COM
36: TESTIO.COM
37: TESTOVR.COM
38: TESTPR.COM
39: TESTRC.COM
40: TESTSTR.COM
41: TESTTRIG.COM
42: TESTUID.COM
43: TESTVIEW.COM
44: TESTWILD.COM

10E>testhell
E:TESTHELL COM
Hello

10E>testpr
E:TESTPR   COM
len: 320
string: AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA

10E>filesize test*.*
E:FILESIZE COM
argc = 63
                         Bytes
             File   ftell()   fopen() Sectors    kB
----------------- --------- --------- ------- -----
     TESTARGS.COM     12544     12544      98    13
         TEST.LOG     22656     22656     177    23
      TEST-OPT.AS       896       896       7     1
     TESTOVR2.OBJ       256       256       2     1
        TESTAES.C     13952     13952     109    14
      TESTAES.COM     15616     15616     122    16
       TESTARGS.C       256       256       2     1
       TESTBDOS.C      1280      1280      10     2
       TESTBIOS.C      1280      1280      10     2
       TESTBUG.AS      4480      4480      35     5
        TESTBUG.C       512       512       4     1
        TESTENV.C       256       256       2     1
       TESTFILE.C       896       896       7     1
       TESTFTIM.C       512       512       4     1
       TESTHELL.C       128       128       1     1
         TESTIO.C       768       768       6     1
       TESTIO.ERR        15        15       1     1
       TESTIO.STA         8         8       1     1
          TESTL.C       128       128       1     1
      TESTLTOF.AS      8576      8576      67     9
       TESTLTOF.C      1408      1408      11     2
      TESTOPTH.AS       384       384       3     1
        TESTOVR.C       512       512       4     1
       TESTOVR1.C       128       128       1     1
       TESTOVR2.C       128       128       1     1
         TESTPR.C       640       640       5     1
        TESTPWD.C      1152      1152       9     2
       TESTQSRT.C       768       768       6     1
         TESTRC.C       256       256       2     1
        TESTREL.C       128       128       1     1
        TESTSTR.C       896       896       7     1
        TESTSUB.C      1280      1280      10     2
       TESTTRIG.C      4480      4480      35     5
        TESTUID.C       384       384       3     1
        TESTVER.C      1920      1920      15     2
      TESTVER.SUB       128       128       1     1
       TESTVIEW.C      1024      1024       8     1
       TESTWILD.C       896       896       7     1
      TESTVER.COM     12800     12800     100    13
         TEST.DAT         7         7       1     1
     TESTBDOS.COM     12800     12800     100    13
     TESTBIOS.COM     12544     12544      98    13
     TESTFILE.COM     12416     12416      97    13
     TESTFTIM.COM     15104     15104     118    15
     TESTHELL.COM      8704      8704      68     9
       TESTIO.COM     12288     12288      96    12
      TESTOVR.COM     12544     12544      98    13
     TESTOVR1.OVR       128       128       1     1
     TESTOVR2.OVR       128       128       1     1
     TESTOVRX.SYM      2688      2688      21     3
       TESTPR.COM     12416     12416      97    13
       TESTRC.COM     11776     11776      92    12
      TESTSTR.COM     12672     12672      99    13
     TESTTRIG.COM     17024     17024     133    17
      TESTUID.COM     11904     11904      93    12
     TESTVIEW.COM     12160     12160      95    12
     TESTWILD.COM     12032     12032      94    12
     TESTOVRX.OBJ      2944      2944      23     3
     TESTOVR1.OBJ       256       256       2     1
      TEST280.LOG     20608     20608     161    21
         TEST.SUB       896       896       7     1
      TEST280.SUB      1024      1024       8     1

10E>; Z280 optimiser
10E>optimh -f test-opt.as test-opt.as2
E:OPTIMH   COM
 15 bytes speed optimised away
 68 bytes replaced

10E>optimh test-opt.as test-opt.as3
E:OPTIMH   COM
 25 bytes size optimised away
 62 bytes replaced

10E>; All tests completed
10E>put console to console
A:PUT      COM  (User 0)
